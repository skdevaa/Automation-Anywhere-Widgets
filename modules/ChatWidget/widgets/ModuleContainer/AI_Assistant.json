{
  "backgroundColor": "#FFFFFF",
  "borderColor": "#E0DEDE",
  "borderRadius": "0.375rem",
  "borderWidth": "0",
  "bottomRow": 86,
  "boxShadow": "none",
  "defaultModel": "{{ { \n\t\n\tmessage: \"\",\n\tresponse: \"\",\n\temoji : Chat_Controller.config.emoji,\n\t\n\tdata: Chat_Controller.config.messages,\n\t\n\ttitle : Chat_Controller.config.title,\n\n\tchatId : Chat_Controller.config.chatId,\n\t\n\tprojectId: Chat_Controller.config.projectId,\n\t\n\tagentId: Chat_Controller.config.agentId,\n\n\tapiKey : Chat_Controller.config.apiKey,\n\n\tsecret : Chat_Controller.config.secret,\n\n\tbase: Chat_Controller.config.baseURL,\n\ttextColor: Chat_Controller.config.textColor\n} }}\n\n",
  "dynamicBindingPathList": [
    {
      "key": "theme"
    },
    {
      "key": "defaultModel"
    }
  ],
  "dynamicHeight": "FIXED",
  "dynamicPropertyPathList": [
    {
      "key": "onSend"
    },
    {
      "key": "onUpload"
    }
  ],
  "dynamicTriggerPathList": [
    {
      "key": "onSend"
    },
    {
      "key": "onUpload"
    }
  ],
  "events": [
    "onSend",
    "onUpload"
  ],
  "isCanvas": false,
  "isLoading": false,
  "isSearchWildcard": true,
  "isVisible": true,
  "key": "g420q0sta3",
  "leftColumn": 0,
  "maxDynamicHeight": 9000,
  "minDynamicHeight": 4,
  "mobileBottomRow": 43,
  "mobileLeftColumn": 26,
  "mobileRightColumn": 49,
  "mobileTopRow": 13,
  "needsErrorInfo": false,
  "onSend": "{{Chat_Controller.onSend(AI_Assistant.model.message,AI_Assistant.model.response)}}",
  "onUpload": "{{Chat_Controller.onUpload(AI_Assistant.model.message)}}",
  "parentColumnSpace": 17.21875,
  "parentId": "module-canvas-0",
  "parentRowSpace": 10,
  "renderMode": "CANVAS",
  "rightColumn": 64,
  "srcDoc": {
    "css": "@charset \"UTF-8\";\n/* ===== Appsmith Custom Chat Widget — 97vh + scroll isolation ===== */\n/* Base */\nhtml, body {\n  height: 100%;\n  margin: 0;\n}\n\n/* Root container */\n.chat-widget-container {\n  display: flex;\n  height: 99vh;\n  flex-direction: column;\n  background: #fff;\n  border-radius: var(--appsmith-theme-borderRadius);\n  box-shadow: var(--appsmith-theme-boxShadow);\n  border: 1px solid #efefef;\n  font-family: system-ui, sans-serif;\n  /* Keep scrolling inside the widget */\n  overflow: hidden;\n  overscroll-behavior: contain;\n}\n\n/* Header */\n.chat-header {\n  flex: 0 0 auto;\n  padding: 14px 18px;\n  background: var(--appsmith-theme-primaryColor);\n  color: var(--appsmith-model-textColor);\n  font-weight: bold;\n  font-size: 16px;\n  border-radius: var(--appsmith-theme-borderRadius) var(--appsmith-theme-borderRadius) 0 0;\n  display: flex;\n  gap: 10px;\n  align-items: center;\n}\n\n/* Messages area — the ONLY scroller */\n.chat-messages {\n  flex: 1 1 auto;\n  min-height: 0;\n  overflow-y: auto;\n  padding: 20px 16px 12px;\n  display: flex;\n  flex-direction: column;\n  gap: 14px;\n  overscroll-behavior: contain; /* stop scroll chaining */\n  -webkit-overflow-scrolling: touch;\n  scroll-behavior: smooth; /* auto-scroll to bottom feels nice */\n}\n\n/* Rows */\n.chat-msg-row {\n  display: flex;\n  align-items: flex-end;\n  width: 100%;\n  gap: 8px;\n}\n\n.chat-msg-row.bot {\n  justify-content: flex-start;\n  flex-direction: row;\n}\n\n.chat-msg-row.user {\n  justify-content: flex-end;\n  flex-direction: row;\n}\n\n/* Bubbles */\n.chat-msg {\n  max-width: 75%;\n  background: #fff;\n  padding: 11px 13px;\n  border-radius: 13px;\n  box-shadow: 0 1px 6px rgba(38, 38, 38, 0.03);\n  font-size: 12px;\n  line-height: 1.5;\n  position: relative;\n  word-break: break-word;\n  white-space: pre-wrap;\n  overflow-wrap: anywhere;\n  border-bottom-left-radius: 4px;\n}\n\n.chat-msg.user {\n  background: var(--appsmith-theme-primaryColor);\n  color: var(--appsmith-model-textColor);\n  border-bottom-left-radius: 13px;\n  border-bottom-right-radius: 4px;\n}\n\n.chat-msg.bot {\n  background: #f3f4f6;\n  color: var(--appsmith-model-textColor);\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 13px;\n}\n\n/* Avatars */\n.chat-avatar {\n  flex-shrink: 0;\n  width: 28px;\n  height: 28px;\n  border-radius: 50%;\n  background: #e9e9ef;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 12px;\n  color: var(--appsmith-theme-primaryColor);\n}\n\n.chat-msg-row.bot .chat-avatar {\n  margin-right: 6px;\n}\n\n.chat-msg-row.user .chat-avatar {\n  margin-left: 6px;\n}\n\n/* Input bar */\n.chat-input-bar {\n  flex: 0 0 auto;\n  display: flex;\n  gap: 6px;\n  padding: 10px 10px 14px;\n  background: var(--appsmith-theme-backgroundColor);\n  border-top: 1px solid #eef1f7;\n  border-radius: 0 0 var(--appsmith-theme-borderRadius) var(--appsmith-theme-borderRadius);\n  overflow-anchor: none; /* prevent subtle jumps while typing */\n}\n\n.chat-input-bar input {\n  flex: 1;\n  min-width: 0;\n  border: 1px solid #e2e2e2;\n  border-radius: 6px;\n  padding: 9px 13px;\n  background: #fff;\n  font-size: 13px;\n}\n\n.chat-input-bar button {\n  background: var(--appsmith-theme-primaryColor);\n  color: var(--appsmith-model-textColor);\n  border: 0;\n  border-radius: 6px;\n  padding: 9px 16px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background 0.17s;\n}\n\n.chat-input-bar button:active {\n  background: #1d4ed8;\n}\n\n.chat-input-bar button:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n/* Dropzone */\n.upload-dropzone {\n  flex: 0 0 auto;\n  border: 1px dashed #cbd5e1;\n  border-radius: 8px;\n  padding: 8px 12px;\n  margin: 8px 0;\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  font-size: 12px;\n  color: #475569;\n  user-select: none;\n}\n\n.upload-dropzone.drag {\n  background: #f1f5f9;\n  border-color: #94a3b8;\n}\n\n.upload-btn {\n  margin-left: 6px;\n}\n\n/* Typing indicator */\n.chat-msg.typing {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  width: auto;\n}\n\n.chat-msg.bot.typing {\n  background: #f3f4f6;\n  color: #111827;\n}\n\n.dot {\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background: currentColor;\n  opacity: 0.3;\n  animation: typing-bounce 1.2s infinite ease-in-out;\n}\n\n.dot:nth-child(2) {\n  animation-delay: 0.15s;\n}\n\n.dot:nth-child(3) {\n  animation-delay: 0.3s;\n}\n\n@keyframes typing-bounce {\n  0%, 80%, 100% {\n    transform: translateY(0);\n    opacity: 0.3;\n  }\n  40% {\n    transform: translateY(-4px);\n    opacity: 0.9;\n  }\n}\n/* Attachments */\n.attachment-line {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  line-height: 1.2;\n}\n\n.file-badge {\n  display: inline-block;\n  padding: 2px 6px;\n  border-radius: 8px;\n  font-size: 10px;\n  font-weight: 800;\n  line-height: 1;\n  letter-spacing: 0.2px;\n  color: #fff;\n}\n\n.file-badge.is-pdf {\n  background: #DC2626;\n}\n\n.file-badge.is-word {\n  background: #2563EB;\n}\n\n.file-badge.is-excel {\n  background: #16A34A;\n}\n\n.file-badge.is-ppt {\n  background: #F97316;\n}\n\n.file-badge.is-img {\n  background: #0EA5E9;\n}\n\n.file-badge.is-zip {\n  background: #6B7280;\n}\n\n.file-badge.is-txt {\n  background: #64748B;\n}\n\n.file-badge.is-code {\n  background: #4F46E5;\n}\n\n.file-badge.is-generic {\n  background: #6B7280;\n}\n\n.chat-msg.bot .file-badge {\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.04) inset;\n}\n\n.attachment-meta {\n  display: flex;\n  align-items: baseline;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n\n.attachment-name {\n  font-weight: 600;\n  word-break: break-word;\n}\n\n.attachment-size {\n  opacity: 0.8;\n  font-size: 0.9em;\n}\n\n.chat-msg.user .attachment-line,\n.chat-msg.bot .attachment-line {\n  margin: -2px 0;\n}",
    "html": "<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css\" />\n<div id=\"root\"></div>",
    "js": "import React from \"https://esm.sh/react@18.2.0\";\nimport ReactDOM from \"https://esm.sh/react-dom@18.2.0\";\nappsmith.events = [{\n  name: \"onSend\",\n  description: \"Triggered when the user sends a message\"\n}, {\n  name: \"onUpload\",\n  description: \"Triggered after user selects files to upload\"\n}];\nconst mockMessages = [{\n  sender: \"bot\",\n  text: \"Hello! I'm your AI Assistant. How can I help you today?\"\n}];\nvar uploadedFile = null;\n\n/* ---------- helpers (file badge only; no SVG) ---------- */\nfunction formatBytes(bytes) {\n  if (!bytes) return \"0 B\";\n  const k = 1024;\n  const sizes = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\"];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  const num = bytes / Math.pow(k, i);\n  return `${num.toFixed(i === 0 ? 0 : 1)} ${sizes[i]}`;\n}\nfunction extLabel(ext) {\n  const e = (ext || \"\").toLowerCase();\n  if (e === \"pdf\") return \"PDF\";\n  if ([\"doc\", \"docx\"].includes(e)) return \"DOC\";\n  if ([\"xls\", \"xlsx\", \"csv\"].includes(e)) return \"XLS\";\n  if ([\"ppt\", \"pptx\"].includes(e)) return \"PPT\";\n  if ([\"png\", \"jpg\", \"jpeg\", \"gif\", \"webp\", \"bmp\", \"tiff\", \"svg\"].includes(e)) return \"IMG\";\n  if ([\"zip\", \"rar\", \"7z\", \"tar\", \"gz\", \"bz2\"].includes(e)) return \"ZIP\";\n  if ([\"txt\", \"md\", \"rtf\"].includes(e)) return \"TXT\";\n  if ([\"js\", \"mjs\", \"cjs\", \"ts\", \"tsx\", \"jsx\", \"json\", \"xml\", \"yml\", \"yaml\", \"py\", \"rb\", \"java\", \"c\", \"cpp\", \"cs\", \"go\", \"php\", \"sql\", \"sh\"].includes(e)) return \"CODE\";\n  return (e || \"\").slice(0, 4).toUpperCase() || \"FILE\";\n}\nfunction badgeClassForExt(ext) {\n  const e = (ext || \"\").toLowerCase();\n  if (e === \"pdf\") return \"is-pdf\";\n  if ([\"doc\", \"docx\"].includes(e)) return \"is-word\";\n  if ([\"xls\", \"xlsx\", \"csv\"].includes(e)) return \"is-excel\";\n  if ([\"ppt\", \"pptx\"].includes(e)) return \"is-ppt\";\n  if ([\"png\", \"jpg\", \"jpeg\", \"gif\", \"webp\", \"bmp\", \"tiff\", \"svg\"].includes(e)) return \"is-img\";\n  if ([\"zip\", \"rar\", \"7z\", \"tar\", \"gz\", \"bz2\"].includes(e)) return \"is-zip\";\n  if ([\"txt\", \"md\", \"rtf\"].includes(e)) return \"is-txt\";\n  if ([\"js\", \"mjs\", \"cjs\", \"ts\", \"tsx\", \"jsx\", \"json\", \"xml\", \"yml\", \"yaml\", \"py\", \"rb\", \"java\", \"c\", \"cpp\", \"cs\", \"go\", \"php\", \"sql\", \"sh\"].includes(e)) return \"is-code\";\n  return \"is-generic\";\n}\nfunction FileTypeBadge({\n  ext\n}) {\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: `file-badge ${badgeClassForExt(ext)}`\n  }, extLabel(ext));\n}\n\n/* -------------- main component -------------- */\nfunction ChatWidget() {\n  const [messages, setMessages] = React.useState(appsmith.model.data || mockMessages);\n  const [input, setInput] = React.useState(\"\");\n  const [isReading, setIsReading] = React.useState(false);\n  const [isThinking, setIsThinking] = React.useState(false);\n  const messagesRef = React.useRef(null); // NEW: container ref\n  const messagesEndRef = React.useRef(null); // (kept; not required now)\n  const fileInputRef = React.useRef(null);\n  let emojiRef = appsmith.model.emoji;\n\n  // passive watcher memory\n  const prevConfigRef = React.useRef({\n    agentId: appsmith.model.agentId,\n    emoji: appsmith.model.emoji\n  });\n  const isFirstConfigCheck = React.useRef(true);\n  async function handleFilesSelected(fileList) {\n    if (!fileList || fileList.length === 0) return;\n    setIsReading(true);\n    try {\n      const files = Array.from(fileList);\n      const MAX_TOTAL = 10 * 1024 * 1024;\n      const total = files.reduce((sum, f) => sum + (f?.size || 0), 0);\n      if (total > MAX_TOTAL) {\n        const updated = [...messages, {\n          sender: \"bot\",\n          text: \"Total selected file size is over 10 MB. Please upload smaller files.\"\n        }];\n        setMessages(updated);\n        setIsReading(false);\n        return;\n      }\n      const first = files[0];\n      let ensured = first;\n      if (!first.type || !first.type.trim()) {\n        const ext = (first.name.split(\".\").pop() || \"\").toLowerCase();\n        const mimeMap = {\n          pdf: \"application/pdf\",\n          png: \"image/png\",\n          jpg: \"image/jpeg\",\n          jpeg: \"image/jpeg\",\n          gif: \"image/gif\",\n          webp: \"image/webp\",\n          txt: \"text/plain\",\n          csv: \"text/csv\",\n          json: \"application/json\",\n          zip: \"application/zip\",\n          doc: \"application/msword\",\n          docx: \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n          xls: \"application/vnd.ms-excel\",\n          xlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n          ppt: \"application/vnd.ms-powerpoint\",\n          pptx: \"application/vnd.openxmlformats-officedocument.presentationml.presentation\"\n        };\n        const derivedType = mimeMap[ext] || \"application/octet-stream\";\n        ensured = new File([first], first.name, {\n          type: derivedType,\n          lastModified: first.lastModified\n        });\n      }\n      const attachmentLine = files.length === 1 ? `Uploaded: ${ensured.name} (${formatBytes(ensured.size)})` : `Uploaded ${files.length} files.`;\n      const updated = [...messages, {\n        sender: \"user\",\n        text: attachmentLine,\n        attachment: files.length === 1 ? {\n          name: ensured.name,\n          size: ensured.size,\n          prettySize: formatBytes(ensured.size),\n          ext: (ensured.name.split(\".\").pop() || \"\").toLowerCase()\n        } : {\n          name: `${files.length} files`,\n          prettySize: formatBytes(total),\n          ext: \"zip\"\n        }\n      }];\n      setMessages(updated);\n      appsmith.updateModel({\n        message: attachmentLine\n      });\n      uploadedFile = ensured;\n      appsmith.triggerEvent(\"onUpload\", {});\n    } catch (err) {\n      const updated = [...messages, {\n        sender: \"bot\",\n        text: `Upload failed: ${err.message}`\n      }];\n      setMessages(updated);\n    } finally {\n      setIsReading(false);\n      if (fileInputRef.current) fileInputRef.current.value = \"\";\n    }\n  }\n  async function sendMessage(message, file) {\n    const payloadMessage = emojiRef === \"yes\" ? `${message}\\n use emoji in the response` : message;\n    const formdata = new FormData();\n    formdata.append(\"message\", payloadMessage);\n    formdata.append(\"project_id\", appsmith.model.projectId);\n    formdata.append(\"chat_id\", appsmith.model.chatId);\n    formdata.append(\"return_message\", true);\n    formdata.append(\"agent_id\", appsmith.model.agentId);\n    if (file) formdata.append(\"quick_upload_file\", file);\n    const apiHeaders = new Headers({\n      \"X-API-KEY\": appsmith.model.apiKey,\n      \"X-API-SECRET\": appsmith.model.secret\n    });\n    const requestOptions = {\n      method: \"POST\",\n      headers: apiHeaders,\n      body: formdata,\n      redirect: \"follow\"\n    };\n    const endpoint = appsmith.model.base + \"/v2/chat/message\";\n    try {\n      const res = await fetch(endpoint, requestOptions);\n      if (!res.ok) {\n        const errText = await res.text();\n        throw new Error(`HTTP ${res.status}: ${errText}`);\n      }\n      const data = await res.json();\n      return data.message?.response ?? \"\";\n    } catch (err) {\n      console.log(err);\n      return \"Sorry, I couldn't reach the assistant. Please try again.\";\n    } finally {\n      uploadedFile = null;\n    }\n  }\n  function avatar(sender) {\n    return sender === \"user\" ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chat-avatar\",\n      title: \"You\"\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-user\"\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chat-avatar\",\n      title: \"Assistant\"\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-magic\"\n    }));\n  }\n\n  // Listen for external model changes (bot replies + passive config watch)\n  React.useEffect(() => {\n    appsmith.onModelChange((model, prev) => {\n      const newData = model.data || [];\n      const prevData = prev?.data || [];\n      if (JSON.stringify(newData) !== JSON.stringify(prevData)) {\n        setMessages(newData);\n        emojiRef = appsmith.model.emoji;\n        const lastMsg = newData[newData.length - 1];\n        if (lastMsg && lastMsg.sender === \"bot\") setIsThinking(false);\n      }\n    });\n  }, []);\n\n  // NEW: scroll the container itself (not the page)\n  React.useEffect(() => {\n    const el = messagesRef.current;\n    if (!el) return;\n    el.scrollTo({\n      top: el.scrollHeight,\n      behavior: \"smooth\"\n    });\n  }, [messages, isThinking]);\n  const handleSend = React.useCallback(async () => {\n    if (!input.trim() || isReading || isThinking) return;\n    setMessages(prev => [...prev, {\n      sender: \"user\",\n      text: input.trim()\n    }]);\n    const toSend = input.trim();\n    setInput(\"\");\n    setIsThinking(true);\n    try {\n      const response = await sendMessage(toSend, uploadedFile);\n      appsmith.updateModel({\n        message: toSend\n      });\n      appsmith.updateModel({\n        response: response\n      });\n      appsmith.triggerEvent(\"onSend\", {});\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setIsThinking(false);\n    }\n  }, [input, isReading, isThinking]);\n  const handleKeyDown = e => {\n    if (e.key === \"Enter\") handleSend();\n  };\n  const onFileInputChange = e => handleFilesSelected(e.target.files);\n  const [dragOver, setDragOver] = React.useState(false);\n  const onDrop = e => {\n    e.preventDefault();\n    setDragOver(false);\n    handleFilesSelected(e.dataTransfer.files);\n  };\n  const onDragOver = e => {\n    e.preventDefault();\n    setDragOver(true);\n  };\n  const onDragLeave = () => setDragOver(false);\n\n  // Stop wheel/touch from bubbling to the page\n  const stopScrollPropagation = e => {\n    e.stopPropagation();\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-widget-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-header\"\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-magic\",\n    style: {\n      marginRight: \"7px\"\n    }\n  }), \" \", appsmith.model.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload-dropzone\" + (dragOver ? \" drag\" : \"\"),\n    onDrop: onDrop,\n    onDragOver: onDragOver,\n    onDragLeave: onDragLeave,\n    title: \"Drag & drop files here\"\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-cloud-upload\"\n  }), /*#__PURE__*/React.createElement(\"span\", null, dragOver ? \"Drop to upload\" : \"Drag & drop files here\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-messages\",\n    ref: messagesRef,\n    onWheel: stopScrollPropagation,\n    onTouchMove: stopScrollPropagation\n  }, messages.map((msg, idx) => /*#__PURE__*/React.createElement(\"div\", {\n    key: idx,\n    className: `chat-msg-row ${msg.sender === \"user\" ? \"user\" : \"bot\"}`\n  }, msg.sender === \"user\" ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: `chat-msg user`\n  }, (() => {\n    if (msg.attachment) {\n      const ext = (msg.attachment.ext || \"\").toLowerCase();\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"attachment-line\"\n      }, /*#__PURE__*/React.createElement(FileTypeBadge, {\n        ext: ext\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"attachment-meta\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"attachment-name\"\n      }, msg.attachment.name), msg.attachment.prettySize && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"attachment-size\"\n      }, msg.attachment.prettySize)));\n    }\n    const t = msg.text || \"\";\n    const m = /^Uploaded:\\s*([^(\\n]+)\\s*\\(([^)]+)\\)/i.exec(t);\n    if (m) {\n      const filename = m[1].trim();\n      const size = m[2].trim();\n      const ext = (filename.split(\".\").pop() || \"\").toLowerCase();\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"attachment-line\"\n      }, /*#__PURE__*/React.createElement(FileTypeBadge, {\n        ext: ext\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"attachment-meta\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"attachment-name\"\n      }, filename), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"attachment-size\"\n      }, size)));\n    }\n    return t.replaceAll(\"\\\\n\", \"\\n\");\n  })()), avatar(msg.sender)) : /*#__PURE__*/React.createElement(React.Fragment, null, avatar(msg.sender), /*#__PURE__*/React.createElement(\"div\", {\n    className: `chat-msg bot`\n  }, (msg.text || \"\").replaceAll(\"\\\\n\", \"\\n\"))))), isThinking && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-msg-row bot\"\n  }, avatar(\"bot\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-msg bot typing\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"dot\"\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"dot\"\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"dot\"\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    ref: messagesEndRef\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-input-bar\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Type your message...\",\n    value: input,\n    onChange: e => setInput(e.target.value),\n    onKeyDown: handleKeyDown,\n    disabled: isReading || isThinking\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSend,\n    disabled: isReading || isThinking\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-paper-plane\"\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    ref: fileInputRef,\n    type: \"file\",\n    multiple: true,\n    style: {\n      display: \"none\"\n    },\n    onChange: onFileInputChange\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => fileInputRef.current?.click(),\n    disabled: isReading || isThinking,\n    className: \"upload-btn\"\n  }, isReading ? /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-spinner fa-spin\"\n  }) : /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-paperclip\"\n  }))));\n}\nappsmith.onReady(() => {\n  appsmith.updateModel({\n    data: []\n  });\n  ReactDOM.render(/*#__PURE__*/React.createElement(ChatWidget, null), document.getElementById(\"root\"));\n});"
  },
  "theme": "{{appsmith.theme}}",
  "topRow": 4,
  "type": "CUSTOM_WIDGET",
  "uncompiledSrcDoc": {
    "css": "/* ===== Appsmith Custom Chat Widget — 97vh + scroll isolation ===== */\n\n/* Base */\nhtml, body { height: 100%; margin: 0; }\n\n/* Root container */\n.chat-widget-container {\n  display: flex;\n\theight: 99vh;   \n  flex-direction: column;\n  background: #fff;\n  border-radius: var(--appsmith-theme-borderRadius);\n  box-shadow: var(--appsmith-theme-boxShadow);\n  border: 1px solid #efefef;\n  font-family: system-ui, sans-serif;\n\n  /* Keep scrolling inside the widget */\n  overflow: hidden;\n  overscroll-behavior: contain;\n}\n\n/* Header */\n.chat-header {\n  flex: 0 0 auto;\n  padding: 14px 18px;\n  background: var(--appsmith-theme-primaryColor);\n  color: var(--appsmith-model-textColor);\n  font-weight: bold;\n  font-size: 16px;\n  border-radius: var(--appsmith-theme-borderRadius) var(--appsmith-theme-borderRadius) 0 0;\n  display: flex;\n  gap: 10px;\n  align-items: center;\n}\n\n/* Messages area — the ONLY scroller */\n.chat-messages {\n  flex: 1 1 auto;\n  min-height: 0;\n  overflow-y: auto;\n  padding: 20px 16px 12px;\n  display: flex;\n  flex-direction: column;\n  gap: 14px;\n\n  overscroll-behavior: contain;     /* stop scroll chaining */\n  -webkit-overflow-scrolling: touch;\n  scroll-behavior: smooth;          /* auto-scroll to bottom feels nice */\n}\n\n/* Rows */\n.chat-msg-row { display: flex; align-items: flex-end; width: 100%; gap: 8px; }\n.chat-msg-row.bot  { justify-content: flex-start; flex-direction: row; }\n.chat-msg-row.user { justify-content: flex-end;  flex-direction: row; }\n\n/* Bubbles */\n.chat-msg {\n  max-width: 75%;\n  background: #fff;\n  padding: 11px 13px;\n  border-radius: 13px;\n  box-shadow: 0 1px 6px rgba(38, 38, 38, 0.03);\n  font-size: 12px;\n  line-height: 1.5;\n  position: relative;\n  word-break: break-word;\n  white-space: pre-wrap;\n  overflow-wrap: anywhere;\n  border-bottom-left-radius: 4px;\n}\n.chat-msg.user {\n  background: var(--appsmith-theme-primaryColor);\n  color: var(--appsmith-model-textColor);\n  border-bottom-left-radius: 13px;\n  border-bottom-right-radius: 4px;\n}\n.chat-msg.bot {\n  background: #f3f4f6;\n  color: var(--appsmith-model-textColor);\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 13px;\n}\n\n/* Avatars */\n.chat-avatar {\n  flex-shrink: 0;\n  width: 28px; height: 28px;\n  border-radius: 50%;\n  background: #e9e9ef;\n  display: flex; justify-content: center; align-items: center;\n  font-size: 12px;\n  color: var(--appsmith-theme-primaryColor);\n}\n.chat-msg-row.bot  .chat-avatar { margin-right: 6px; }\n.chat-msg-row.user .chat-avatar { margin-left: 6px; }\n\n/* Input bar */\n.chat-input-bar {\n  flex: 0 0 auto;\n  display: flex; gap: 6px;\n  padding: 10px 10px 14px;\n  background: var(--appsmith-theme-backgroundColor);\n  border-top: 1px solid #eef1f7;\n  border-radius: 0 0 var(--appsmith-theme-borderRadius) var(--appsmith-theme-borderRadius);\n  overflow-anchor: none; /* prevent subtle jumps while typing */\n}\n.chat-input-bar input {\n  flex: 1; min-width: 0;\n  border: 1px solid #e2e2e2; border-radius: 6px;\n  padding: 9px 13px; background: #fff; font-size: 13px;\n}\n.chat-input-bar button {\n  background: var(--appsmith-theme-primaryColor);\n  color: var(--appsmith-model-textColor);\n  border: 0; border-radius: 6px; padding: 9px 16px;\n  font-size: 14px; font-weight: 600; cursor: pointer; transition: background 0.17s;\n}\n.chat-input-bar button:active   { background: #1d4ed8; }\n.chat-input-bar button:disabled { opacity: 0.6; cursor: not-allowed; }\n\n/* Dropzone */\n.upload-dropzone {\n  flex: 0 0 auto;\n  border: 1px dashed #cbd5e1; border-radius: 8px;\n  padding: 8px 12px; margin: 8px 0;\n  display: flex; gap: 8px; align-items: center;\n  font-size: 12px; color: #475569; user-select: none;\n}\n.upload-dropzone.drag { background: #f1f5f9; border-color: #94a3b8; }\n.upload-btn { margin-left: 6px; }\n\n/* Typing indicator */\n.chat-msg.typing { display: inline-flex; align-items: center; gap: 6px; width: auto; }\n.chat-msg.bot.typing { background: #f3f4f6; color: #111827; }\n.dot { width: 6px; height: 6px; border-radius: 50%; background: currentColor; opacity: 0.3;\n  animation: typing-bounce 1.2s infinite ease-in-out; }\n.dot:nth-child(2) { animation-delay: 0.15s; }\n.dot:nth-child(3) { animation-delay: 0.3s; }\n@keyframes typing-bounce {\n  0%, 80%, 100% { transform: translateY(0); opacity: 0.3; }\n  40% { transform: translateY(-4px); opacity: 0.9; }\n}\n\n/* Attachments */\n.attachment-line { display: flex; align-items: center; gap: 8px; line-height: 1.2; }\n.file-badge {\n  display: inline-block; padding: 2px 6px; border-radius: 8px;\n  font-size: 10px; font-weight: 800; line-height: 1; letter-spacing: 0.2px; color: #fff;\n}\n.file-badge.is-pdf    { background: #DC2626; }\n.file-badge.is-word   { background: #2563EB; }\n.file-badge.is-excel  { background: #16A34A; }\n.file-badge.is-ppt    { background: #F97316; }\n.file-badge.is-img    { background: #0EA5E9; }\n.file-badge.is-zip    { background: #6B7280; }\n.file-badge.is-txt    { background: #64748B; }\n.file-badge.is-code   { background: #4F46E5; }\n.file-badge.is-generic{ background: #6B7280; }\n\n.chat-msg.bot .file-badge { box-shadow: 0 0 0 1px rgba(0,0,0,0.04) inset; }\n.attachment-meta { display: flex; align-items: baseline; gap: 8px; flex-wrap: wrap; }\n.attachment-name { font-weight: 600; word-break: break-word; }\n.attachment-size { opacity: 0.8; font-size: 0.9em; }\n.chat-msg.user .attachment-line,\n.chat-msg.bot  .attachment-line { margin: -2px 0; }\n",
    "html": "<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css\" />\n<div id=\"root\"></div>",
    "js": "import React from \"https://esm.sh/react@18.2.0\";\nimport ReactDOM from \"https://esm.sh/react-dom@18.2.0\";\n\nappsmith.events = [\n  { name: \"onSend\", description: \"Triggered when the user sends a message\" },\n  { name: \"onUpload\", description: \"Triggered after user selects files to upload\" },\n];\n\nconst mockMessages = [\n  { sender: \"bot\", text: \"Hello! I'm your AI Assistant. How can I help you today?\" },\n];\n\nvar uploadedFile = null;\n\n/* ---------- helpers (file badge only; no SVG) ---------- */\nfunction formatBytes(bytes) {\n  if (!bytes) return \"0 B\";\n  const k = 1024;\n  const sizes = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\"];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  const num = bytes / Math.pow(k, i);\n  return `${num.toFixed(i === 0 ? 0 : 1)} ${sizes[i]}`;\n}\n\nfunction extLabel(ext) {\n  const e = (ext || \"\").toLowerCase();\n  if (e === \"pdf\") return \"PDF\";\n  if ([\"doc\",\"docx\"].includes(e)) return \"DOC\";\n  if ([\"xls\",\"xlsx\",\"csv\"].includes(e)) return \"XLS\";\n  if ([\"ppt\",\"pptx\"].includes(e)) return \"PPT\";\n  if ([\"png\",\"jpg\",\"jpeg\",\"gif\",\"webp\",\"bmp\",\"tiff\",\"svg\"].includes(e)) return \"IMG\";\n  if ([\"zip\",\"rar\",\"7z\",\"tar\",\"gz\",\"bz2\"].includes(e)) return \"ZIP\";\n  if ([\"txt\",\"md\",\"rtf\"].includes(e)) return \"TXT\";\n  if ([\"js\",\"mjs\",\"cjs\",\"ts\",\"tsx\",\"jsx\",\"json\",\"xml\",\"yml\",\"yaml\",\"py\",\"rb\",\"java\",\"c\",\"cpp\",\"cs\",\"go\",\"php\",\"sql\",\"sh\"].includes(e)) return \"CODE\";\n  return (e || \"\").slice(0,4).toUpperCase() || \"FILE\";\n}\n\nfunction badgeClassForExt(ext) {\n  const e = (ext || \"\").toLowerCase();\n  if (e === \"pdf\") return \"is-pdf\";\n  if ([\"doc\",\"docx\"].includes(e)) return \"is-word\";\n  if ([\"xls\",\"xlsx\",\"csv\"].includes(e)) return \"is-excel\";\n  if ([\"ppt\",\"pptx\"].includes(e)) return \"is-ppt\";\n  if ([\"png\",\"jpg\",\"jpeg\",\"gif\",\"webp\",\"bmp\",\"tiff\",\"svg\"].includes(e)) return \"is-img\";\n  if ([\"zip\",\"rar\",\"7z\",\"tar\",\"gz\",\"bz2\"].includes(e)) return \"is-zip\";\n  if ([\"txt\",\"md\",\"rtf\"].includes(e)) return \"is-txt\";\n  if ([\"js\",\"mjs\",\"cjs\",\"ts\",\"tsx\",\"jsx\",\"json\",\"xml\",\"yml\",\"yaml\",\"py\",\"rb\",\"java\",\"c\",\"cpp\",\"cs\",\"go\",\"php\",\"sql\",\"sh\"].includes(e)) return \"is-code\";\n  return \"is-generic\";\n}\n\nfunction FileTypeBadge({ ext }) {\n  return <span className={`file-badge ${badgeClassForExt(ext)}`}>{extLabel(ext)}</span>;\n}\n\n/* -------------- main component -------------- */\nfunction ChatWidget() {\n  const [messages, setMessages] = React.useState(appsmith.model.data || mockMessages);\n  const [input, setInput] = React.useState(\"\");\n  const [isReading, setIsReading] = React.useState(false);\n  const [isThinking, setIsThinking] = React.useState(false);\n\n  const messagesRef = React.useRef(null);        // NEW: container ref\n  const messagesEndRef = React.useRef(null);     // (kept; not required now)\n  const fileInputRef = React.useRef(null);\n\n  let emojiRef = appsmith.model.emoji;\n\n  // passive watcher memory\n  const prevConfigRef = React.useRef({\n    agentId: appsmith.model.agentId,\n    emoji: appsmith.model.emoji,\n  });\n  const isFirstConfigCheck = React.useRef(true);\n\n  async function handleFilesSelected(fileList) {\n    if (!fileList || fileList.length === 0) return;\n    setIsReading(true);\n\n    try {\n      const files = Array.from(fileList);\n      const MAX_TOTAL = 10 * 1024 * 1024;\n      const total = files.reduce((sum, f) => sum + (f?.size || 0), 0);\n      if (total > MAX_TOTAL) {\n        const updated = [\n          ...messages,\n          { sender: \"bot\", text: \"Total selected file size is over 10 MB. Please upload smaller files.\" },\n        ];\n        setMessages(updated);\n        setIsReading(false);\n        return;\n      }\n\n      const first = files[0];\n      let ensured = first;\n      if (!first.type || !first.type.trim()) {\n        const ext = (first.name.split(\".\").pop() || \"\").toLowerCase();\n        const mimeMap = {\n          pdf: \"application/pdf\",\n          png: \"image/png\",\n          jpg: \"image/jpeg\",\n          jpeg: \"image/jpeg\",\n          gif: \"image/gif\",\n          webp: \"image/webp\",\n          txt: \"text/plain\",\n          csv: \"text/csv\",\n          json: \"application/json\",\n          zip: \"application/zip\",\n          doc: \"application/msword\",\n          docx: \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n          xls: \"application/vnd.ms-excel\",\n          xlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n          ppt: \"application/vnd.ms-powerpoint\",\n          pptx: \"application/vnd.openxmlformats-officedocument.presentationml.presentation\",\n        };\n        const derivedType = mimeMap[ext] || \"application/octet-stream\";\n        ensured = new File([first], first.name, {\n          type: derivedType,\n          lastModified: first.lastModified,\n        });\n      }\n\n      const attachmentLine =\n        files.length === 1\n          ? `Uploaded: ${ensured.name} (${formatBytes(ensured.size)})`\n          : `Uploaded ${files.length} files.`;\n\n      const updated = [\n        ...messages,\n        {\n          sender: \"user\",\n          text: attachmentLine,\n          attachment:\n            files.length === 1\n              ? {\n                  name: ensured.name,\n                  size: ensured.size,\n                  prettySize: formatBytes(ensured.size),\n                  ext: (ensured.name.split(\".\").pop() || \"\").toLowerCase(),\n                }\n              : {\n                  name: `${files.length} files`,\n                  prettySize: formatBytes(total),\n                  ext: \"zip\",\n                },\n        },\n      ];\n      setMessages(updated);\n      appsmith.updateModel({ message: attachmentLine });\n      uploadedFile = ensured;\n      appsmith.triggerEvent(\"onUpload\", {});\n    } catch (err) {\n      const updated = [...messages, { sender: \"bot\", text: `Upload failed: ${err.message}` }];\n      setMessages(updated);\n    } finally {\n      setIsReading(false);\n      if (fileInputRef.current) fileInputRef.current.value = \"\";\n    }\n  }\n\n  async function sendMessage(message, file) {\n    const payloadMessage = (emojiRef === \"yes\") ? `${message}\\n use emoji in the response` : message;\n    const formdata = new FormData();\n    formdata.append(\"message\", payloadMessage);\n    formdata.append(\"project_id\", appsmith.model.projectId);\n    formdata.append(\"chat_id\", appsmith.model.chatId);\n    formdata.append(\"return_message\", true);\n    formdata.append(\"agent_id\", appsmith.model.agentId);\n    if (file) formdata.append(\"quick_upload_file\", file);\n\n    const apiHeaders = new Headers({\n      \"X-API-KEY\": appsmith.model.apiKey,\n      \"X-API-SECRET\": appsmith.model.secret\n    });\n\n    const requestOptions = { method: \"POST\", headers: apiHeaders, body: formdata, redirect: \"follow\" };\n    const endpoint = appsmith.model.base + \"/v2/chat/message\";\n\n    try {\n      const res = await fetch(endpoint, requestOptions);\n      if (!res.ok) {\n        const errText = await res.text();\n        throw new Error(`HTTP ${res.status}: ${errText}`);\n      }\n      const data = await res.json();\n      return data.message?.response ?? \"\";\n    } catch (err) {\n      console.log(err);\n      return \"Sorry, I couldn't reach the assistant. Please try again.\";\n    } finally {\n      uploadedFile = null;\n    }\n  }\n\n  function avatar(sender) {\n    return sender === \"user\" ? (\n      <div className=\"chat-avatar\" title=\"You\">\n        <i className=\"fa fa-user\"></i>\n      </div>\n    ) : (\n      <div className=\"chat-avatar\" title=\"Assistant\">\n        <i className=\"fa fa-magic\"></i>\n      </div>\n    );\n  }\n\n  // Listen for external model changes (bot replies + passive config watch)\n  React.useEffect(() => {\n    appsmith.onModelChange((model, prev) => {\n      const newData = model.data || [];\n      const prevData = prev?.data || [];\n\n      if (JSON.stringify(newData) !== JSON.stringify(prevData)) {\n        setMessages(newData);\n        emojiRef = appsmith.model.emoji;\n\n        const lastMsg = newData[newData.length - 1];\n        if (lastMsg && lastMsg.sender === \"bot\") setIsThinking(false);\n      }\n    });\n  }, []);\n\n  // NEW: scroll the container itself (not the page)\n  React.useEffect(() => {\n    const el = messagesRef.current;\n    if (!el) return;\n    el.scrollTo({ top: el.scrollHeight, behavior: \"smooth\" });\n  }, [messages, isThinking]);\n\n  const handleSend = React.useCallback(async () => {\n    if (!input.trim() || isReading || isThinking) return;\n\n    setMessages(prev => [...prev, { sender: \"user\", text: input.trim() }]);\n    const toSend = input.trim();\n    setInput(\"\");\n    setIsThinking(true);\n    try {\n      const response = await sendMessage(toSend, uploadedFile);\n      appsmith.updateModel({ message: toSend });\n      appsmith.updateModel({ response: response });\n      appsmith.triggerEvent(\"onSend\", {});\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setIsThinking(false);\n    }\n  }, [input, isReading, isThinking]);\n\n  const handleKeyDown = (e) => {\n    if (e.key === \"Enter\") handleSend();\n  };\n\n  const onFileInputChange = (e) => handleFilesSelected(e.target.files);\n\n  const [dragOver, setDragOver] = React.useState(false);\n  const onDrop = (e) => {\n    e.preventDefault();\n    setDragOver(false);\n    handleFilesSelected(e.dataTransfer.files);\n  };\n  const onDragOver = (e) => {\n    e.preventDefault();\n    setDragOver(true);\n  };\n  const onDragLeave = () => setDragOver(false);\n\n  // Stop wheel/touch from bubbling to the page\n  const stopScrollPropagation = (e) => {\n    e.stopPropagation();\n  };\n\n  return (\n    <div className=\"chat-widget-container\">\n      <div className=\"chat-header\">\n        <i className=\"fa fa-magic\" style={{ marginRight: \"7px\" }}></i> {appsmith.model.title}\n      </div>\n\n      {/* Drag & Drop */}\n      <div\n        className={\"upload-dropzone\" + (dragOver ? \" drag\" : \"\")}\n        onDrop={onDrop}\n        onDragOver={onDragOver}\n        onDragLeave={onDragLeave}\n        title=\"Drag & drop files here\"\n      >\n        <i className=\"fa fa-cloud-upload\"></i>\n        <span>{dragOver ? \"Drop to upload\" : \"Drag & drop files here\"}</span>\n      </div>\n\n      <div\n        className=\"chat-messages\"\n        ref={messagesRef}\n        onWheel={stopScrollPropagation}\n        onTouchMove={stopScrollPropagation}\n      >\n        {messages.map((msg, idx) => (\n          <div\n            key={idx}\n            className={`chat-msg-row ${msg.sender === \"user\" ? \"user\" : \"bot\"}`}\n          >\n            {msg.sender === \"user\" ? (\n              <>\n                <div className={`chat-msg user`}>\n                  {(() => {\n                    if (msg.attachment) {\n                      const ext = (msg.attachment.ext || \"\").toLowerCase();\n                      return (\n                        <div className=\"attachment-line\">\n                          <FileTypeBadge ext={ext} />\n                          <div className=\"attachment-meta\">\n                            <div className=\"attachment-name\">{msg.attachment.name}</div>\n                            {msg.attachment.prettySize && (\n                              <div className=\"attachment-size\">{msg.attachment.prettySize}</div>\n                            )}\n                          </div>\n                        </div>\n                      );\n                    }\n                    const t = (msg.text || \"\");\n                    const m = /^Uploaded:\\s*([^(\\n]+)\\s*\\(([^)]+)\\)/i.exec(t);\n                    if (m) {\n                      const filename = m[1].trim();\n                      const size = m[2].trim();\n                      const ext = (filename.split(\".\").pop() || \"\").toLowerCase();\n                      return (\n                        <div className=\"attachment-line\">\n                          <FileTypeBadge ext={ext} />\n                          <div className=\"attachment-meta\">\n                            <div className=\"attachment-name\">{filename}</div>\n                            <div className=\"attachment-size\">{size}</div>\n                          </div>\n                        </div>\n                      );\n                    }\n                    return t.replaceAll(\"\\\\n\", \"\\n\");\n                  })()}\n                </div>\n                {avatar(msg.sender)}\n              </>\n            ) : (\n              <>\n                {avatar(msg.sender)}\n                <div className={`chat-msg bot`}>\n                  {(msg.text || \"\").replaceAll(\"\\\\n\", \"\\n\")}\n                </div>\n              </>\n            )}\n          </div>\n        ))}\n\n        {isThinking && (\n          <div className=\"chat-msg-row bot\">\n            {avatar(\"bot\")}\n            <div className=\"chat-msg bot typing\">\n              <span className=\"dot\"></span>\n              <span className=\"dot\"></span>\n              <span className=\"dot\"></span>\n            </div>\n          </div>\n        )}\n\n        <div ref={messagesEndRef}></div>\n      </div>\n\n      <div className=\"chat-input-bar\">\n        <input\n          type=\"text\"\n          placeholder=\"Type your message...\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          onKeyDown={handleKeyDown}\n          disabled={isReading || isThinking}\n        />\n        <button onClick={handleSend} disabled={isReading || isThinking}>\n          <i className=\"fa fa-paper-plane\"></i>\n        </button>\n\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          multiple\n          style={{ display: \"none\" }}\n          onChange={onFileInputChange}\n        />\n        <button\n          onClick={() => fileInputRef.current?.click()}\n          disabled={isReading || isThinking}\n          className=\"upload-btn\"\n        >\n          {isReading ? <i className=\"fa fa-spinner fa-spin\"></i> : <i className=\"fa fa-paperclip\"></i>}\n        </button>\n      </div>\n    </div>\n  );\n}\n\nappsmith.onReady(() => {\n  appsmith.updateModel({ data: [] });\n  ReactDOM.render(<ChatWidget />, document.getElementById(\"root\"));\n});\n"
  },
  "version": 1,
  "widgetId": "syyl073e47",
  "widgetName": "AI_Assistant"
}